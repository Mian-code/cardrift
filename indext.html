<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Drifting Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #333;
        }

        canvas {
            display: block;
            margin: 0 auto;
            background-color: #111;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        // Set canvas to full screen
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Car properties
        const car = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            width: 50,
            height: 30,
            angle: 0, // car's angle to control drifting
            speed: 0,
            maxSpeed: 10,
            friction: 0.98,
            acceleration: 0.2,
        };

        // Handle arrow key controls
        let keys = {};

        window.addEventListener('keydown', (e) => {
            keys[e.key] = true;
        });

        window.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });

        // Game Loop
        function updateGameArea() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Accelerate or decelerate
            if (keys['ArrowUp']) {
                if (car.speed < car.maxSpeed) {
                    car.speed += car.acceleration;
                }
            } else if (keys['ArrowDown']) {
                if (car.speed > -car.maxSpeed) {
                    car.speed -= car.acceleration;
                }
            } else {
                // Apply friction when no key is pressed
                car.speed *= car.friction;
            }

            // Steering (drifting)
            if (keys['ArrowLeft']) {
                car.angle -= 0.05; // turn left
            } else if (keys['ArrowRight']) {
                car.angle += 0.05; // turn right
            }

            // Update car position based on speed and angle
            car.x += car.speed * Math.cos(car.angle);
            car.y += car.speed * Math.sin(car.angle);

            // Wrap around edges of the canvas
            if (car.x > canvas.width) car.x = 0;
            if (car.x < 0) car.x = canvas.width;
            if (car.y > canvas.height) car.y = 0;
            if (car.y < 0) car.y = canvas.height;

            // Draw the car
            ctx.save();
            ctx.translate(car.x, car.y);
            ctx.rotate(car.angle);
            ctx.fillStyle = 'red';
            ctx.fillRect(-car.width / 2, -car.height / 2, car.width, car.height);
            ctx.restore();

            requestAnimationFrame(updateGameArea); // Repeat the game loop
        }

        updateGameArea(); // Start the game loop
    </script>
</body>
</html>
